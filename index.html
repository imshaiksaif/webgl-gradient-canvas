<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Gradient demo</title>
    <link rel="stylesheet" href="src/styles/main.css" />
    <link rel="stylesheet" href="src/styles/project.css" />
  </head>

  <body>
    <main></main>
    <canvas id="c"></canvas>

    <button id="testButton" onmouseenter="onMouseHover()" onmouseleave="onMouseHoverOut()"
      style="width: 200px; height: 60px; position: absolute; margin: 10px;">
      TEST BUTTON
    </button>

    <script src="dist/gradient-lib.js" type="module"></script>

    <script>
      function onMouseHover(e) {
        let hoverSettings = window.Gradient.params[1];
        window.Gradient.gl.scene.quad.tweenTo(hoverSettings, 1000);
      } 
      function onMouseHoverOut(e) {
        let defaultSettings = window.Gradient.params[0];
        window.Gradient.gl.scene.quad.tweenTo(defaultSettings, 2000);
      }
      document.addEventListener("scroll", (event) => {        
        var scrollTop = window.scrollY; // Current vertical scroll position
        var documentHeight = document.documentElement.scrollHeight; // Total height of the document
        var windowHeight = window.innerHeight; // Height of the visible window (viewport)

        // Calculate the scrollable distance
        var scrollableDistance = documentHeight - windowHeight;

        // Calculate the scroll percentage
        var scrollPercent = (scrollTop / scrollableDistance);

        if (window.Gradient)
          window.Gradient.setUniform( "bw", scrollPercent );
      })
    </script>

    
  </body>

</html>